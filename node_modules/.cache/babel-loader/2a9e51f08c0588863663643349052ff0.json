{"ast":null,"code":"var _jsxFileName = \"A:\\\\Coder-house\\\\react\\\\proyecto final\\\\my-app\\\\src\\\\components\\\\Form\\\\Form.js\",\n    _s = $RefreshSig$();\n\n/*import { useEffect, useState } from 'react';\r\n\r\nconst Form = () => {\r\n    const [name, setName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        //console.log(e.target);\r\n        // console.dir(e.target.elements.nombre.value);\r\n        // console.dir(e.target.elements.apellido.value);\r\n        console.log({ name, lastName });\r\n    };\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const handleChangeLastName = (e) => {\r\n        setLastName(e.target.value);\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        //console.log(e.clientX, e.clientY);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('mousemove', handleMouseMove);\r\n        //conexión\r\n        return () => {\r\n            //clean up function\r\n            window.removeEventListener('mousemove', handleMouseMove);\r\n            //clearInterval\r\n            //abortar conexíon\r\n        };\r\n    });\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                minHeight: '70vh',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            <div>\r\n                <button>Click!</button>\r\n            </div>\r\n            <form onSubmit={handleSubmit} action=\"\">\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"nombre\"\r\n                    placeholder=\"Nombre...\"\r\n                    onChange={handleChangeName}\r\n                    value={name}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"apellido\"\r\n                    placeholder=\"Apellido...\"\r\n                    onChange={handleChangeLastName}\r\n                    value={lastName}\r\n                />\r\n                <button>Enviar</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Form;*/\nimport { addDoc, collection, serverTimestamp } from 'firebase/firestore';\nimport { useContext, useState } from 'react';\nimport { CartContext } from '../../Context/CartContext';\nimport { database } from '../../services/firebaseConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Form = () => {\n  _s();\n\n  const [name, setName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [orderId, setOrderId] = useState('');\n  const {\n    cart,\n    total,\n    deleteAll\n  } = useContext(CartContext);\n  const totalPrice = total();\n\n  const handleSubmit = e => {\n    setLoading(true);\n    e.preventDefault(); //console.log({ name, lastName });\n\n    const order = {\n      buyer: {\n        name,\n        lastName\n      },\n      items: cart,\n      total: totalPrice,\n      date: serverTimestamp()\n    };\n    const ordersCollection = collection(database, 'orders');\n    addDoc(ordersCollection, order).then(res => {\n      //console.log(res.id);\n      setOrderId(res.id);\n      deleteAll();\n    }).catch(error => {\n      console.log(error);\n    }).finally(() => setLoading(false));\n  };\n\n  const handleChangeName = e => {\n    setName(e.target.value);\n  };\n\n  const handleChangeLastName = e => {\n    setLastName(e.target.value);\n  };\n\n  console.log(orderId);\n\n  if (orderId) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Gracias por tu compra, tu n\\xFAmero de seguimiento es $\", orderId]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      minHeight: '70vh',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      action: \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"nombre\",\n        placeholder: \"Nombre...\",\n        onChange: handleChangeName,\n        value: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"apellido\",\n        placeholder: \"Apellido...\",\n        onChange: handleChangeLastName,\n        value: lastName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: loading ? 'Enviando...' : 'Enviar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Form, \"WYKakwdZ69QFCd3yvrJAnkofgjo=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["addDoc","collection","serverTimestamp","useContext","useState","CartContext","database","Form","name","setName","lastName","setLastName","loading","setLoading","orderId","setOrderId","cart","total","deleteAll","totalPrice","handleSubmit","e","preventDefault","order","buyer","items","date","ordersCollection","then","res","id","catch","error","console","log","finally","handleChangeName","target","value","handleChangeLastName","minHeight","display","justifyContent","alignItems"],"sources":["A:/Coder-house/react/proyecto final/my-app/src/components/Form/Form.js"],"sourcesContent":["/*import { useEffect, useState } from 'react';\r\n\r\nconst Form = () => {\r\n    const [name, setName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        //console.log(e.target);\r\n        // console.dir(e.target.elements.nombre.value);\r\n        // console.dir(e.target.elements.apellido.value);\r\n        console.log({ name, lastName });\r\n    };\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const handleChangeLastName = (e) => {\r\n        setLastName(e.target.value);\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n        //console.log(e.clientX, e.clientY);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('mousemove', handleMouseMove);\r\n        //conexión\r\n        return () => {\r\n            //clean up function\r\n            window.removeEventListener('mousemove', handleMouseMove);\r\n            //clearInterval\r\n            //abortar conexíon\r\n        };\r\n    });\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                minHeight: '70vh',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            <div>\r\n                <button>Click!</button>\r\n            </div>\r\n            <form onSubmit={handleSubmit} action=\"\">\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"nombre\"\r\n                    placeholder=\"Nombre...\"\r\n                    onChange={handleChangeName}\r\n                    value={name}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"apellido\"\r\n                    placeholder=\"Apellido...\"\r\n                    onChange={handleChangeLastName}\r\n                    value={lastName}\r\n                />\r\n                <button>Enviar</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Form;*/\r\nimport { addDoc, collection, serverTimestamp } from 'firebase/firestore';\r\nimport { useContext, useState } from 'react';\r\nimport { CartContext } from '../../Context/CartContext';\r\nimport { database } from '../../services/firebaseConfig';\r\n\r\nconst Form = () => {\r\n    const [name, setName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const [orderId, setOrderId] = useState('');\r\n\r\n    const { cart, total, deleteAll } = useContext(CartContext);\r\n\r\n    const totalPrice = total();\r\n\r\n    const handleSubmit = (e) => {\r\n        setLoading(true);\r\n        e.preventDefault();\r\n        //console.log({ name, lastName });\r\n        const order = {\r\n            buyer: { name, lastName },\r\n            items: cart,\r\n            total: totalPrice,\r\n            date: serverTimestamp(),\r\n        };\r\n\r\n        const ordersCollection = collection(database, 'orders');\r\n        addDoc(ordersCollection, order)\r\n            .then((res) => {\r\n                //console.log(res.id);\r\n                setOrderId(res.id);\r\n                deleteAll();\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n            })\r\n            .finally(() => setLoading(false));\r\n    };\r\n\r\n    const handleChangeName = (e) => {\r\n        setName(e.target.value);\r\n    };\r\n\r\n    const handleChangeLastName = (e) => {\r\n        setLastName(e.target.value);\r\n    };\r\n\r\n    console.log(orderId);\r\n\r\n    if (orderId) {\r\n        return (\r\n            <h1>\r\n                Gracias por tu compra, tu número de seguimiento es ${orderId}\r\n            </h1>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                minHeight: '70vh',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            <form onSubmit={handleSubmit} action=\"\">\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"nombre\"\r\n                    placeholder=\"Nombre...\"\r\n                    onChange={handleChangeName}\r\n                    value={name}\r\n                />\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"apellido\"\r\n                    placeholder=\"Apellido...\"\r\n                    onChange={handleChangeLastName}\r\n                    value={lastName}\r\n                />\r\n                <button>{loading ? 'Enviando...' : 'Enviar'}</button>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module"}