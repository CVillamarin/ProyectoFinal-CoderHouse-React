{"ast":null,"code":"var _jsxFileName = \"A:\\\\Coder-house\\\\react\\\\proyecto final\\\\my-app\\\\src\\\\Context\\\\CartContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Provider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [cart, setCart] = useState([]);\n\n  const addToCart = (item, cantidad) => {\n    const producto = { ...item,\n      cantidad\n    };\n\n    if (isInCart(producto.id)) {\n      sumarCantidad(producto);\n    } else {\n      setCart([...cart, producto]);\n    }\n  };\n\n  const sumarCantidad = prodAgregado => {\n    const carritoActualizado = cart.map(prodDelCart => {\n      if (prodDelCart.id === prodAgregado.id) {\n        const prodActualizado = { ...prodDelCart,\n          cantidad: prodAgregado.cantidad\n        };\n        return prodActualizado;\n      } else {\n        return prodDelCart;\n      }\n    });\n    setCart(carritoActualizado);\n  };\n\n  const isInCart = id => cart.some(prod => prod.id === id);\n\n  const deleteAll = () => setCart([]);\n\n  const deleteOne = id => {\n    const prodFiltrados = cart.filter(prod => prod.id !== id);\n    setCart(prodFiltrados);\n  };\n\n  const totalUnidades = () => {\n    let acc = 0;\n    const copia = [...cart];\n    copia.forEach(prod => {\n      acc = acc + prod.cantidad;\n    });\n    return acc;\n  };\n\n  const total = () => {\n    return 1000;\n  };\n\n  const getProductQuantity = id => {\n    const product = cart.find(prod => prod.id === id);\n    return product === null || product === void 0 ? void 0 : product.cantidad;\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      total,\n      totalUnidades,\n      addToCart,\n      deleteAll,\n      deleteOne,\n      getProductQuantity\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Provider, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n\n_c = Provider;\nexport default Provider;\nexport const CartContext = /*#__PURE__*/createContext();\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["createContext","useState","Provider","children","cart","setCart","addToCart","item","cantidad","producto","isInCart","id","sumarCantidad","prodAgregado","carritoActualizado","map","prodDelCart","prodActualizado","some","prod","deleteAll","deleteOne","prodFiltrados","filter","totalUnidades","acc","copia","forEach","total","getProductQuantity","product","find","CartContext"],"sources":["A:/Coder-house/react/proyecto final/my-app/src/Context/CartContext.js"],"sourcesContent":["import { createContext, useState } from 'react';\r\n\r\nconst Provider = ({ children }) => {\r\n    \r\n    const [cart, setCart] = useState([]);\r\n\r\n    const addToCart = (item, cantidad) => {\r\n        const producto = { ...item, cantidad };\r\n        if (isInCart(producto.id)) {\r\n            sumarCantidad(producto);\r\n        } else {\r\n            setCart([...cart, producto]);\r\n        }\r\n    };\r\n\r\n    const sumarCantidad = (prodAgregado) => {\r\n        const carritoActualizado = cart.map((prodDelCart) => {\r\n            if (prodDelCart.id === prodAgregado.id) {\r\n                const prodActualizado = {\r\n                    ...prodDelCart,\r\n                    cantidad: prodAgregado.cantidad,\r\n                };\r\n                return prodActualizado;\r\n            } else {\r\n                return prodDelCart;\r\n            }\r\n        });\r\n\r\n        setCart(carritoActualizado);\r\n    };\r\n    const isInCart = (id) => cart.some((prod) => prod.id === id);\r\n\r\n    const deleteAll = () => setCart([]);\r\n\r\n    const deleteOne = (id) => {\r\n        const prodFiltrados = cart.filter((prod) => prod.id !== id);\r\n        setCart(prodFiltrados);\r\n    };\r\n\r\n    const totalUnidades = () => {\r\n        let acc = 0;\r\n        const copia = [...cart];\r\n        copia.forEach((prod) => {\r\n            acc = acc + prod.cantidad;\r\n        });\r\n        return acc;\r\n    };\r\n\r\n    const total = () => {\r\n        return 1000;\r\n    };\r\n    const getProductQuantity = (id) => {\r\n        const product = cart.find((prod) => prod.id === id);\r\n        return product?.cantidad;\r\n    };\r\n\r\n    return (\r\n        <CartContext.Provider\r\n            value={{\r\n                cart,\r\n                total,\r\n                totalUnidades,\r\n                addToCart,\r\n                deleteAll,\r\n                deleteOne,\r\n                getProductQuantity,\r\n            }}\r\n        >\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n    \r\n};\r\n\r\nexport default Provider;\r\nexport const CartContext = createContext();\r\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,OAAxC;;;AAEA,MAAMC,QAAQ,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAE/B,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,EAAD,CAAhC;;EAEA,MAAMK,SAAS,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAoB;IAClC,MAAMC,QAAQ,GAAG,EAAE,GAAGF,IAAL;MAAWC;IAAX,CAAjB;;IACA,IAAIE,QAAQ,CAACD,QAAQ,CAACE,EAAV,CAAZ,EAA2B;MACvBC,aAAa,CAACH,QAAD,CAAb;IACH,CAFD,MAEO;MACHJ,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAUK,QAAV,CAAD,CAAP;IACH;EACJ,CAPD;;EASA,MAAMG,aAAa,GAAIC,YAAD,IAAkB;IACpC,MAAMC,kBAAkB,GAAGV,IAAI,CAACW,GAAL,CAAUC,WAAD,IAAiB;MACjD,IAAIA,WAAW,CAACL,EAAZ,KAAmBE,YAAY,CAACF,EAApC,EAAwC;QACpC,MAAMM,eAAe,GAAG,EACpB,GAAGD,WADiB;UAEpBR,QAAQ,EAAEK,YAAY,CAACL;QAFH,CAAxB;QAIA,OAAOS,eAAP;MACH,CAND,MAMO;QACH,OAAOD,WAAP;MACH;IACJ,CAV0B,CAA3B;IAYAX,OAAO,CAACS,kBAAD,CAAP;EACH,CAdD;;EAeA,MAAMJ,QAAQ,GAAIC,EAAD,IAAQP,IAAI,CAACc,IAAL,CAAWC,IAAD,IAAUA,IAAI,CAACR,EAAL,KAAYA,EAAhC,CAAzB;;EAEA,MAAMS,SAAS,GAAG,MAAMf,OAAO,CAAC,EAAD,CAA/B;;EAEA,MAAMgB,SAAS,GAAIV,EAAD,IAAQ;IACtB,MAAMW,aAAa,GAAGlB,IAAI,CAACmB,MAAL,CAAaJ,IAAD,IAAUA,IAAI,CAACR,EAAL,KAAYA,EAAlC,CAAtB;IACAN,OAAO,CAACiB,aAAD,CAAP;EACH,CAHD;;EAKA,MAAME,aAAa,GAAG,MAAM;IACxB,IAAIC,GAAG,GAAG,CAAV;IACA,MAAMC,KAAK,GAAG,CAAC,GAAGtB,IAAJ,CAAd;IACAsB,KAAK,CAACC,OAAN,CAAeR,IAAD,IAAU;MACpBM,GAAG,GAAGA,GAAG,GAAGN,IAAI,CAACX,QAAjB;IACH,CAFD;IAGA,OAAOiB,GAAP;EACH,CAPD;;EASA,MAAMG,KAAK,GAAG,MAAM;IAChB,OAAO,IAAP;EACH,CAFD;;EAGA,MAAMC,kBAAkB,GAAIlB,EAAD,IAAQ;IAC/B,MAAMmB,OAAO,GAAG1B,IAAI,CAAC2B,IAAL,CAAWZ,IAAD,IAAUA,IAAI,CAACR,EAAL,KAAYA,EAAhC,CAAhB;IACA,OAAOmB,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEtB,QAAhB;EACH,CAHD;;EAKA,oBACI,QAAC,WAAD,CAAa,QAAb;IACI,KAAK,EAAE;MACHJ,IADG;MAEHwB,KAFG;MAGHJ,aAHG;MAIHlB,SAJG;MAKHc,SALG;MAMHC,SANG;MAOHQ;IAPG,CADX;IAAA,UAWK1B;EAXL;IAAA;IAAA;IAAA;EAAA,QADJ;AAgBH,CAtED;;GAAMD,Q;;KAAAA,Q;AAwEN,eAAeA,QAAf;AACA,OAAO,MAAM8B,WAAW,gBAAGhC,aAAa,EAAjC"},"metadata":{},"sourceType":"module"}