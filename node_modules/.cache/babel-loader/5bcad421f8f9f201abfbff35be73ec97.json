{"ast":null,"code":"var _jsxFileName = \"A:\\\\Coder-house\\\\react\\\\proyecto final\\\\my-app\\\\src\\\\Context\\\\CartContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\n\nconst Provider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [cart, setCart] = useState([]);\n\n  const agregarAlCarro = (item, cantidad) => {\n    const producto = { ...item,\n      cantidad\n    };\n\n    if (isInCart(producto.id)) {\n      sumarCantidad(producto);\n    } else {\n      setCart([...cart, producto]);\n    }\n  };\n\n  const sumarCantidad = productoAgregado => {\n    const carritoActualizado = cart.map(productoDelCart => {\n      if (productoDelCart.id === productoAgregado.id) {\n        const productoActualizado = { ...productoDelCart,\n          cantidad: productoAgregado.cantidad\n        };\n        return productoActualizado;\n      } else {\n        return productoDelCart;\n      }\n    });\n    setCart(carritoActualizado);\n  };\n\n  const isInCart = id => cart.some(prod => prod.id === id);\n\n  const deleteAll = () => setCart([]);\n\n  const deleteOne = id => {\n    const productoFiltrados = cart.filter(prod => prod.id !== id);\n    setCart(productoFiltrados);\n  };\n\n  const totalUnidades = () => {\n    let acc = 0;\n    const copia = [...cart];\n    copia.forEach(prod => {\n      acc = acc + prod.cantidad;\n    });\n    return acc;\n  };\n\n  const total = () => {\n    return 1000;\n  };\n\n  const getProductQuantity = id => {\n    const product = cart.find(prod => prod.id === id);\n    return product === null || product === void 0 ? void 0 : product.cantidad;\n  };\n\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cart,\n      total,\n      totalUnidades,\n      agregarAlCarro,\n      deleteAll,\n      deleteOne,\n      getProductQuantity\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Provider, \"ZqFaEIYkzI5UoYUmTgmqHbYYm/0=\");\n\n_c = Provider;\nexport default Provider;\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["createContext","useState","CartContext","Provider","children","cart","setCart","agregarAlCarro","item","cantidad","producto","isInCart","id","sumarCantidad","productoAgregado","carritoActualizado","map","productoDelCart","productoActualizado","some","prod","deleteAll","deleteOne","productoFiltrados","filter","totalUnidades","acc","copia","forEach","total","getProductQuantity","product","find"],"sources":["A:/Coder-house/react/proyecto final/my-app/src/Context/CartContext.js"],"sourcesContent":["import { createContext, useState } from 'react';\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst Provider = ({ children }) => {\r\n    const [cart, setCart] = useState([]);\r\n\r\n    const agregarAlCarro = (item, cantidad) => {\r\n        const producto = { ...item, cantidad };\r\n        if (isInCart(producto.id)) {\r\n            sumarCantidad(producto);\r\n        } else {\r\n            setCart([...cart, producto]);\r\n        }\r\n    };\r\n\r\n    const sumarCantidad = (productoAgregado) => {\r\n        const carritoActualizado = cart.map((productoDelCart) => {\r\n            if (productoDelCart.id === productoAgregado.id) {\r\n                const productoActualizado = {\r\n                    ...productoDelCart,\r\n                    cantidad: productoAgregado.cantidad,\r\n                };\r\n                return productoActualizado;\r\n            } else {\r\n                return productoDelCart;\r\n            }\r\n        });\r\n        setCart(carritoActualizado);\r\n    };\r\n\r\n    const isInCart = (id) => cart.some((prod) => prod.id === id);\r\n    const deleteAll = () => setCart([]);\r\n\r\n    const deleteOne = (id) => {\r\n        const productoFiltrados = cart.filter((prod) => prod.id !== id);\r\n        setCart(productoFiltrados);\r\n    };\r\n\r\n    const totalUnidades = () => {\r\n        let acc = 0;\r\n        const copia = [...cart];\r\n        copia.forEach((prod) => {\r\n            acc = acc + prod.cantidad;\r\n        });\r\n        return acc;\r\n    };\r\n    const total = () => {\r\n        return 1000;\r\n    };\r\n    const getProductQuantity = (id) => {\r\n        const product = cart.find((prod) => prod.id === id);\r\n        return product?.cantidad;\r\n    };\r\n\r\n    return (\r\n        <CartContext.Provider\r\n            value={{\r\n                cart,\r\n                total,\r\n                totalUnidades,\r\n                agregarAlCarro,\r\n                deleteAll,\r\n                deleteOne,\r\n                getProductQuantity,\r\n            }}\r\n        >\r\n            {children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\nexport default Provider;"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,OAAxC;;AAEA,OAAO,MAAMC,WAAW,gBAAGF,aAAa,EAAjC;;AAEP,MAAMG,QAAQ,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC/B,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;;EAEA,MAAMM,cAAc,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAoB;IACvC,MAAMC,QAAQ,GAAG,EAAE,GAAGF,IAAL;MAAWC;IAAX,CAAjB;;IACA,IAAIE,QAAQ,CAACD,QAAQ,CAACE,EAAV,CAAZ,EAA2B;MACvBC,aAAa,CAACH,QAAD,CAAb;IACH,CAFD,MAEO;MACHJ,OAAO,CAAC,CAAC,GAAGD,IAAJ,EAAUK,QAAV,CAAD,CAAP;IACH;EACJ,CAPD;;EASA,MAAMG,aAAa,GAAIC,gBAAD,IAAsB;IACxC,MAAMC,kBAAkB,GAAGV,IAAI,CAACW,GAAL,CAAUC,eAAD,IAAqB;MACrD,IAAIA,eAAe,CAACL,EAAhB,KAAuBE,gBAAgB,CAACF,EAA5C,EAAgD;QAC5C,MAAMM,mBAAmB,GAAG,EACxB,GAAGD,eADqB;UAExBR,QAAQ,EAAEK,gBAAgB,CAACL;QAFH,CAA5B;QAIA,OAAOS,mBAAP;MACH,CAND,MAMO;QACH,OAAOD,eAAP;MACH;IACJ,CAV0B,CAA3B;IAWAX,OAAO,CAACS,kBAAD,CAAP;EACH,CAbD;;EAeA,MAAMJ,QAAQ,GAAIC,EAAD,IAAQP,IAAI,CAACc,IAAL,CAAWC,IAAD,IAAUA,IAAI,CAACR,EAAL,KAAYA,EAAhC,CAAzB;;EACA,MAAMS,SAAS,GAAG,MAAMf,OAAO,CAAC,EAAD,CAA/B;;EAEA,MAAMgB,SAAS,GAAIV,EAAD,IAAQ;IACtB,MAAMW,iBAAiB,GAAGlB,IAAI,CAACmB,MAAL,CAAaJ,IAAD,IAAUA,IAAI,CAACR,EAAL,KAAYA,EAAlC,CAA1B;IACAN,OAAO,CAACiB,iBAAD,CAAP;EACH,CAHD;;EAKA,MAAME,aAAa,GAAG,MAAM;IACxB,IAAIC,GAAG,GAAG,CAAV;IACA,MAAMC,KAAK,GAAG,CAAC,GAAGtB,IAAJ,CAAd;IACAsB,KAAK,CAACC,OAAN,CAAeR,IAAD,IAAU;MACpBM,GAAG,GAAGA,GAAG,GAAGN,IAAI,CAACX,QAAjB;IACH,CAFD;IAGA,OAAOiB,GAAP;EACH,CAPD;;EAQA,MAAMG,KAAK,GAAG,MAAM;IAChB,OAAO,IAAP;EACH,CAFD;;EAGA,MAAMC,kBAAkB,GAAIlB,EAAD,IAAQ;IAC/B,MAAMmB,OAAO,GAAG1B,IAAI,CAAC2B,IAAL,CAAWZ,IAAD,IAAUA,IAAI,CAACR,EAAL,KAAYA,EAAhC,CAAhB;IACA,OAAOmB,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEtB,QAAhB;EACH,CAHD;;EAKA,oBACI,QAAC,WAAD,CAAa,QAAb;IACI,KAAK,EAAE;MACHJ,IADG;MAEHwB,KAFG;MAGHJ,aAHG;MAIHlB,cAJG;MAKHc,SALG;MAMHC,SANG;MAOHQ;IAPG,CADX;IAAA,UAWK1B;EAXL;IAAA;IAAA;IAAA;EAAA,QADJ;AAeH,CAlED;;GAAMD,Q;;KAAAA,Q;AAoEN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}